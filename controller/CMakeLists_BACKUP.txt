add_executable(controller
    controller_main.c
    w5500_eth.c
)

# Set board to Pico 2 (RP2350)
pico_set_binary_type(controller copy_to_ram)
set_target_properties(controller PROPERTIES PICO_BOARD pico2)

target_link_libraries(controller
    pico_stdlib
    hardware_pio
    hardware_dma
    hardware_gpio
    hardware_spi
    z1_onyx_bus
    psram
    oled
    sd_card_stub
)

# Enable USB output
pico_enable_stdio_usb(controller 1)
pico_enable_stdio_uart(controller 0)

# Create UF2/BIN/HEX outputs
pico_add_extra_outputs(controller)
